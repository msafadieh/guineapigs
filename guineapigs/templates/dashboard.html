{% extends "base.html" %}
{% block content %}
{% if vitamin_c %}
<div class="card text-white bg-primary my-3">
	<div class="card-header d-flex justify-content-between align-items-center">
		<h5>vitamin c</h5>
	</div>
	<div class="card-body">
		<h4 class="card-title">vitamin c fulfilled</h4>
		<p class="card-text">given today @ {{ vitamin_c.utc_date.replace(tzinfo=utc).astimezone(config["TIMEZONE"]).strftime("%l:%M %p") }} by {{ vitamin_c.user.name }}</p>
{% else %}
<div class="card text-white bg-secondary my-3">
	<div class="card-header">Vitamin C</div>
	<div class="card-body">
		<h4 class="card-title">No Vitamin C today</h4>
		<a href="/vitaminc" class="btn border-white text-white">&plus; add</a>
{% endif %}
	</div>
</div>

<div class="card border-secondary bg-light my-3">
	<div class="card-header d-flex justify-content-between align-items-center">
		<h5>status</h5>
		<form class="modal-form" action="/weight_entry/add">
			<button class="btn btn-secondary modal-btn" type="button">&plus; log weight</button>
		</form>
	</div>
	<div class="card-body">
		<h4 class="card-title">food statistics</h4>
		{% for key, value in status.items() %}
		<p class="card-text"><span class="font-weight-bold">{{ key }}: </span>{{ value }}</p>
		{% endfor %}
	</div>
	{% for gp_name, weight in weights %}
	<div class="card-body">
		<h4 class="card-title">{{ gp_name }}</h4>
		<p class="card-text"><span class="font-weight-bold">weight: </span>{% if weight %}{{ weight }}g{% else %}Unknown{% endif %}</p>
	</div>
	{% else %}
	<div class="card-body">
		<h4 class="Title">No guinea pigs registered</h4>
	</div>
	{% endfor %}
</div>

<div class="card border-primary bg-light my-3">
	<div class="card-header d-flex justify-content-between align-items-center">
		<h5>food entries</h5>
		<form class="modal-form" action="/food_entry/add">
			<button class="btn btn-primary modal-btn" type="button">&plus; add</button>
		</form>
	</div>
	<div class="list-group-flush card-body">
	{% for entry in food_entries %}
	<div class="list-group-item bg-light d-flex w-100 justify-content-between px-0">
    	<div class="w-100">
      		<div class="d-flex w-100 justify-content-between">
        		<h5 class="mb-1 align-self-center">{{ entry.food_type.label }}</h5>
        		<p class="small align-self-start text-right mb-0 ml-2">{{ entry.utc_date.replace(tzinfo=utc).astimezone(config["TIMEZONE"]).strftime("%l:%M %p") }} by {{ entry.user.name }}</p>
      		</div>
      {% if entry.notes %}
      <p class="mb-0">
        <em>
          {{ entry.notes }}
        </em>
      </p>
      {% endif %}
    </div>
    <form class="align-self-start" action="/food_entry/delete" method="post">
      <input type="hidden" name="id" value="{{ entry.id }}">
	  <button type="submit" style="font-size: 1.8rem;text-decoration: none;"
        class="btn p-0 ml-1 btn-lg btn-link text-danger">&times;</button>
    </form>
  </div>
	{% else %}
	<h4 class="text-center">
		no food yet &gt;:(
	</h4>
	{% endfor %}
	</div>
</div>
</div>
{% endblock %}
